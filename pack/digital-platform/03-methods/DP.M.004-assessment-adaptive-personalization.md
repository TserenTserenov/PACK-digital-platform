---
id: DP.M.004
name: Адаптивная персонализация по состоянию
type: method
status: draft
summary: "Адаптация контента обучения (промпты, bloom_level, тематика) на основе состояния пользователя из теста систематичности"
created: 2026-02-13
trust:
  F: 2
  G: domain
  R: 0.3
epistemic_stage: emerging
related:
  enhances: [DP.AISYS.014]
  uses: [MIM.PRG.001, MIM.M.001]
---

# Адаптивная персонализация по состоянию

## 1. Определение

**Адаптивная персонализация** — метод подстройки обучающего контента под текущее состояние пользователя, определённое через тест систематичности. Состояние влияет на стиль изложения, сложность, тип практики и тематику.

> Персонализация ≠ кастомизация. Кастомизация — пользователь выбирает сам (имя, интересы). Персонализация — система адаптируется на основе данных о состоянии.

## 2. Проблема

Один и тот же контент неэффективен для людей в разных состояниях:
- Человек в **хаосе** не может переварить длинный текст — нужны микро-действия
- Человек в **тупике** знает теорию, но не применяет — нужна провокация к действию
- Человек в **повороте** готов к глубине, но не знает направления — нужна рефлексия

Без адаптации: тест проведён → данные сохранены → контент одинаковый. Петля разомкнута.

## 3. IPO (Input → Process → Output)

| | Что |
|---|---|
| **Input** | `assessment_state` (chaos / deadlock / turning_point) + `self_check` (самооценка) |
| **Process** | Маршрутизация по трём точкам влияния |
| **Output** | Адаптированный промпт, bloom_level, тематические приоритеты |

## 4. Три точки влияния

### 4.1. Персонализация промпта (стиль контента)

Состояние добавляется в системный промпт Claude при генерации уроков и дайджестов.

| Состояние | Стиль | Тип практики |
|-----------|-------|-------------|
| **Хаос** | Короткие абзацы, одна мысль, конкретные микро-действия (≤5 мин) | Одно простое действие с немедленным результатом |
| **Тупик** | Провокация: «знаешь — почему не делаешь?», акцент на применение | Deliberate practice, применение к своей ситуации |
| **Поворот** | Рефлексия, связи с жизненным направлением, исследование | Безопасный эксперимент + дневник наблюдений |

### 4.2. Auto-init bloom_level (сложность)

Тест инициализирует уровень сложности по Блуму:

| Состояние | bloom_level | Когнитивный уровень |
|-----------|------------|---------------------|
| chaos | 1 | Знание → Понимание |
| deadlock | 2 | Понимание → Применение |
| turning_point | 3 | Применение → Анализ |

Правило: если пользователь вручную задал bloom_level выше — не понижать.

### 4.3. Тематические приоритеты (Лента)

| Состояние | Приоритет тем |
|-----------|--------------|
| **Хаос** | Внимание, привычки, маленькие системы, фокус |
| **Тупик** | Навыки, deliberate practice, кейсы изменений |
| **Поворот** | Стратегия, смыслы, развитие как процесс |

## 5. Ограничения

- Метод работает только при наличии assessment_state (пользователь прошёл тест)
- Без теста — fallback на стандартную персонализацию (профиль)
- Самооценка (self_check) пока не используется для коррекции — потенциал для Phase 2

## 6. Реализация

| Файл | Что изменено |
|------|-------------|
| `core/helpers.py` | `get_personalization_prompt()` + `ASSESSMENT_BLOOM_MAP` + `_get_assessment_adaptation()` |
| `states/workshops/assessment/result.py` | Auto-init `bloom_level` при сохранении результата теста |
| `engines/feed/planner.py` | `_get_feed_topic_hint()` + `_get_feed_digest_hint()` |
