---
id: DP.AGENT.001
name: ИИ-агенты
type: domain-entity
status: active
summary: "Реестр и классификация ИИ-агентов платформы: Стратег, Экстрактор, Проводник и др."
created: 2026-02-07
updated: 2026-02-20
trust:
  F: 4
  G: domain
  R: 0.7
epistemic_stage: formed
note: "Retitled from 'ИИ-агенты' to 'ИИ-системы'. ID preserved for backward compatibility."
related:
  supersedes: [DP.ASSIST.001]
  uses: [DP.ARCH.001]
---

# ИИ-системы платформы

## 1. Определение

**ИИ-система** — компонент платформы (слой 3), использующий LLM для выполнения функций: принятие решений, генерация, диалог, анализ.

> ИИ-агент ≠ ИИ-ассистент (DP.D.009). Это **виды** ИИ-системы, а не разные архитектурные слои.

> **Принцип:** ИИ-система работает по промптам, не по коду. Промпт — это и есть «код» ИИ-системы. Детерминированная система управляется кодом (слой 2); ИИ-система управляется промптами (слой 3).

## 2. Виды и классификационные признаки

ИИ-агент и ИИ-ассистент — два основных **вида** ИИ-систем. Вид определяется тремя классификационными признаками:

| Признак | Значения | Описание |
|---------|----------|----------|
| **Ориентация** | `human` / `system` | На кого направлена: на человека (диалог) или на систему (автоматизация) |
| **Инициатива** | `by-request` / `autonomous` | Кто инициирует: пользователь или система по триггеру/расписанию |
| **Интерфейс** | `dialogue` / `api` / `both` | Через что взаимодействует: диалог, программный API или оба |

**Виды:**
- Проводник: human + by-request + dialogue → вид «ИИ-ассистент»
- Стратег day-plan: system + autonomous + api → вид «ИИ-агент»
- Стратег interactive: human + by-request + dialogue → вид «ИИ-ассистент»

Одна и та же ИИ-система может работать в разных режимах и менять вид в зависимости от сценария (Стратег: и агент, и ассистент).

## 3. Таблица РА (Роли-Агенты)

> **Основание:** FPF A.13 — Agent = System#AgentialRole:Context. Все исполнители в одном реестре, классифицированы по Agency Grade (0-4). Grade 0 = инструмент. **Агентские роли** (§3.2, §3.3) — только у агентов (Grade 2+). У инструментов — **процессы** (§3.4). Инструменты могут иметь функциональные роли в системе (FPF A.2 U.RoleAssignment), но не агентские.

### 3.1. Реестр исполнителей

| ID | Исполнитель | Категория | Grade | Репо |
|----|------------|-----------|-------|------|
| A1 | **Claude** | ИИ-агент | 3-4 | — |
| A2 | **Пользователь** | Человек | 4 | — |
| I1 | Бот Aist | Инструмент | 1 | DS-IT-systems |
| I2 | Синхронизатор (bash) | Инструмент | 1 | DS-ai-systems |
| I3 | Шаблонизатор (bash) | Инструмент | 0 | DS-ai-systems |
| I4 | MCP-серверы | Инструмент | 0 | DS-MCP |
| I5 | launchd | Инструмент | 0 | — (macOS) |
| I6 | Статистик | Инструмент | 1 | DS-ai-systems |
| I7 | Наладчик | Инструмент | 2 | DS-ai-systems |
| I8 | Оценщик | Инструмент | 2 | DS-ai-systems |

### 3.2. Роли Claude (A1) — 8 ролей

| Роль | Сценарий | Интерфейс | Триггер |
|------|----------|-----------|---------|
| Кодировщик | — | CLI | Запрос A2 |
| Архитектор (АрхГейт) | — | CLI | Запрос A2 |
| Триажёр техдолга | — | CLI | Сессия WP-7 |
| **Стратег** | Планировщик дня | CLI (headless) | I5 → Вт-Вс 4:00 |
| | Подготовитель сессии | CLI (headless) | I5 → Пн 4:00 |
| | Рецензент заметок | CLI (headless) | I5 → 23:00 |
| | Обозреватель недели | CLI (headless) | I5 → Пн 0:00 |
| | Стратег (интерактив) | CLI | Запрос A2 |
| **Экстрактор** | Экстрактор знаний | CLI (headless) / CLI | Close / запрос A2 |
| | Аудитор инбокса | CLI (headless) | I5 → каждые 3ч |
| | Синхронизатор онтологий | CLI (headless) | Изменение Pack |
| **Консультант** | Консультант | I1 (Claude API) | Вопрос ученика |
| | ДЗ-чекер | I1 (Claude API) | Ответ ученика |
| | Генератор контента | I1 (Claude API) | I5 (scheduler) |
| **Автор** | Написание постов | CLI | Контент-план / запрос A2 |
| **Статистик** | Ежедневный отчёт | CLI (headless) | I5 → 7:00 |
| | On-demand /analytics | I1 (bot) | Dev-команда |
| **Наладчик** | L1 Unstick (сброс FSM) | I1 (bot, in-process) | Error threshold / stuck timeout |
| | L2 Auto-fix (PR) | CLI (headless) | I5 → каждые 15 мин |
| | L3 Restart | Script | Каскадные ошибки |
| | L4 Escalate | CLI (headless) | Неизвестные ошибки |
| **Оценщик** | Оценка ответа по Bloom | I1 (Claude API) | Ответ ученика (FSM) |
| | Валидация формулировки РП | I1 (regex + Claude API) | Рабочий продукт (FSM task) |
| | Фиксация в заметки | I1 (GitHub API) | Оценка завершена |

> **Ключевое:** Стратег и Экстрактор не могут работать одновременно (один Claude Code process). Консультант/ДЗ-чекер работают через отдельный Claude API в боте — могут параллельно.

### 3.3. Роли Пользователя (A2) — 7 ролей

| Роль | Контекст |
|------|----------|
| Заказчик | Формулирует задачи для Claude |
| Валидатор | Human-in-the-loop: одобряет KE, решения, PR |
| Ученик | Учится в боте (марафон/лента) |
| Стратег (интерактив) | Участвует в strategy-session |
| Автор заметок | Пишет .заметки в TG → fleeting-notes |
| Тестировщик | Проверяет бот (pilot) |
| Рецензент | Просматривает отчёты, дайджесты |

### 3.4. Процессы инструментов

> У инструментов нет агентских ролей — есть автоматизированные процессы. Инструмент может иметь функциональную роль (FPF A.2) в системе, но не принимает решений и не выбирает метод.

| Инструмент | Процесс | Триггер |
|-----------|---------|---------|
| I1 (Бот) | FSM-маршрутизация (Проводник) | TG update |
| I1 (Бот) | Контроль доступа | Каждый запрос |
| I2 (Синхронизатор) | Диспетчер расписания | I5 → 10 раз/день |
| I2 (Синхронизатор) | Сканер кода | 0:00 |
| I2 (Синхронизатор) | Проектор знаний | on_change / ручной |
| I2 (Синхронизатор) | Уведомитель | Вызов от A1 |
| I2 (Синхронизатор) | Генератор отчётов | 5:00 |
| I2 (Синхронизатор) | Проверка согласованности (DP.FM.007) | 6:00 + Close |
| I2 (Синхронизатор) | Генерация entity counts | consistency-check / ручной |
| I3 (Шаблонизатор) | Template sync | Пн 2:00 / ручной |
| I3 (Шаблонизатор) | Валидация шаблона | После sync + CI |
| I6 (Статистик) | Сбор метрик и отчётов | I5 → 7:00 / запрос A2 |
| I7 (Наладчик) | L1 Unstick (in-process) | Scheduler 5 мин |
| I7 (Наладчик) | L2 Auto-fix → PR | I5 → каждые 15 мин |
| I7 (Наладчик) | L3 Restart (Railway API) | Каскадные ошибки |
| I8 (Оценщик) | Оценка ответа (3 оси × Bloom) | Ответ ученика (FSM handle) |
| I8 (Оценщик) | Валидация формулировки РП | Рабочий продукт (FSM task handle) |
| I8 (Оценщик) | Фиксация в fleeting-notes | Оценка завершена + GitHub OAuth |

**Статистика:** 2 агента (Claude + Пользователь), 6 инструментов (I1-I5, I6) + 2 LLM-инструмента (I7, I8, Grade 2), 21 роль (14 + 7), 18 автоматизированных процессов. Репо: DS-ai-systems (монорепо, 7 систем).

## 4. IPO-паттерн ИИ-системы

Каждая ИИ-система описывается через Вход-Обработка-Выход (см. [DP.ARCH.001](DP.ARCH.001-platform-architecture.md) § 5):

| Элемент | Что описывает |
|---------|--------------|
| **Входы** | Данные из MCP (слой 2), триггеры (cron, команда, событие), внешние источники |
| **Обработка** | LLM-промпт + скрипты + логика маршрутизации |
| **Выходы** | Артефакты (файлы, сообщения), команды другим системам, события |

## 5. Реестр ИИ-систем

### 4.1. Группа: Стратегирование и планирование

| ID | Система | Ориентация | Инициатива | Статус |
|----|---------|-----------|------------|--------|
| AISYS.012 | **[Стратег](DP.AGENT.012-strategist/)** | both | both | draft |

### 4.2. Группа: Обучение и развитие

| ID | Система | Ориентация | Инициатива | Статус |
|----|---------|-----------|------------|--------|
| AISYS.001 | **Проводник** (AST.001) | human | by-request | active |
| AISYS.002 | **RouteGuide** | system | autonomous | active |
| AISYS.003 | **TrajectoryPlanner** | system | autonomous | active |
| AISYS.004 | **DailyAssignmentBuilder** | system | autonomous | stub |
| AISYS.005 | **ProgressAnalyst** | system | both | active |
| AISYS.006 | **RhythmKeeper** | system | autonomous | stub |

### 4.3. Группа: Контент и знания

| ID | Система | Ориентация | Инициатива | Статус |
|----|---------|-----------|------------|--------|
| AISYS.007 | **Генератор инфопродуктов** (AST.002) | system | autonomous | active |
| AISYS.008 | **ДЗ-чекер** (AST.003) | system | by-request | active |
| AISYS.009 | **Консультант** | human | by-request | stub |
| AISYS.010 | **Librarian** | system | autonomous | stub |
| AISYS.011 | **Индексатор знаний** | system | autonomous | stub |
| AISYS.013 | **[Знание-Экстрактор](DP.AISYS.013-knowledge-extractor.md)** | system | both | draft |

### 4.4. Группа: Координация и качество

| ID | Система | Ориентация | Инициатива | Статус |
|----|---------|-----------|------------|--------|
| AISYS.014 | **[Aist Bot](DP.AISYS.014-aist-bot.md)** | human | both | active |
| AISYS.015 | **ConsistencyChecker** | system | autonomous | процессы I2 (Grade 1) |
| AISYS.016 | **SystemArchitect** | human | by-request | stub |

## 6. Паспорт ИИ-системы (шаблон)

```yaml
id: AISYS.XXX
type: ai-system-passport
status: draft | active | deprecated

# Классификационные признаки (определяют вид: агент / ассистент)
orientation: human | system | both
initiative: by-request | autonomous | both
interface: dialogue | api | both

# IPO
inputs:
  data: [...]         # Данные из MCP (слой 2)
  triggers: [...]     # События-триггеры
  external: [...]     # Внешние источники

processing:
  llm: {model, temperature}
  prompts: [...]      # Шаблоны промптов
  logic: [...]        # Скриптовая логика

outputs:
  artifacts: [...]    # Рабочие продукты
  commands: [...]     # Команды другим системам
  events: [...]       # Генерируемые события

# Инструменты
tools:
  mcp: [...]          # MCP-инструменты (слой 2)

# Метрики
metrics: [...]

# Сценарии
scenarios: [...]      # Список сценариев (как у Стратега)
```

## 7. Процесс добавления/изменения системы

> Фреймворк стабилен (§1-6). Реестр (§3, §5) растёт по мере добавления систем. Процесс ниже определяет, что и где менять.

### 7.1. Добавление новой системы

| Шаг | Что | Где | Когда |
|-----|-----|-----|-------|
| 1 | **Тест:** нужен ли LLM? | — | Идея → различение (§ hard-distinctions #5) |
| 2a | LLM не нужен → **новый процесс** существующего инструмента | §3.4 + system.yaml инструмента | Скрипт или команда |
| 2b | LLM нужен → **новая система** (AISYS.XXX) | Паспорт в Pack + папка в DS-ai-systems | Решение реализовать |
| 3 | Строка в Реестр исполнителей (§3.1) | Этот документ | Система готова |
| 4 | Строка в Реестр ИИ-систем (§5) | Этот документ | Система готова |
| 5 | Сценарий (если межсистемный) | DS-ecosystem-development/PROCESSES.md | Новый сценарий |
| 6 | Selective reindex | knowledge-mcp | Pack изменён |

### 7.2. Изменение существующей системы

| Изменение | Что обновить |
|-----------|-------------|
| Новый Grade | AISYS.XXX паспорт + §3.1 (Grade) |
| Новый сценарий | AISYS.XXX паспорт + system.yaml + PROCESSES.md |
| Новая роль для Claude | §3.2 |
| Deprecation | AISYS.XXX status: deprecated + убрать из §3.1 |

### 7.3. Upgrade процесса в систему (Grade 0→2+)

Когда существующий процесс инструмента требует LLM-решений:

1. Создать папку `DS-ai-systems/<name>/` (system.yaml + prompts)
2. **Переместить** скрипт из инструмента в новую папку (`scripts/`)
3. Создать паспорт AISYS.XXX в Pack
4. §3.1: добавить новый инструмент (IX)
5. §3.4: **удалить** процесс из старого инструмента
6. PROCESSES.md: обновить владельца сценария

> Скрипт остаётся тем же — LLM добавляется сверху как слой принятия решений.

## 8. Связанные документы

- [DP.ARCH.001 Архитектура](DP.ARCH.001-platform-architecture.md)
- [DP.ASSIST.001 ИИ-ассистенты (superseded)](DP.ASSIST.001-ai-assistants.md)
- [DP.SYS.001 Детерминированные системы](DP.SYS.001-deterministic-systems.md)
- [DP.AISYS.013 Знание-Экстрактор](DP.AISYS.013-knowledge-extractor.md)
- [DP.EXOCORTEX.001 Модульный экзокортекс](DP.EXOCORTEX.001-modular-exocortex.md)
- [DS-ai-systems](https://github.com/TserenTserenov/DS-ai-systems) — монорепо всех ИИ-систем (7 систем, system.yaml паспорта)
