---
id: DP.ARCH.002
name: Тиры обслуживания платформы
type: domain-entity
status: draft
summary: "4-тирная модель обслуживания: T1 Эксперт → T2 Наставник → T3 Со-мыслитель (IWE) → T4 Архитектор. Каждый тир определяет знания, персональные данные, роль ИИ и доступные действия"
created: 2026-02-16
updated: 2026-02-16
trust:
  F: 4
  G: domain
  R: 0.7
epistemic_stage: emerging
related:
  uses: [DP.ARCH.001, DP.EXOCORTEX.001, DP.AISYS.014]
  enables: [DP.CONCEPT.001]
---

# Тиры обслуживания платформы

## 1. Определение

**Тиры обслуживания** — модель, определяющая что пользователь получает от платформы в зависимости от уровня подключения. Каждый тир фиксирует 5 измерений: знания, персональные данные (ЦД), методологию (CLAUDE.md), действия и роль ИИ.

> Тир ≠ Уровень доступа. Уровень доступа — только разрешения. Тир — полное описание: что знает ИИ + что умеет + как взаимодействует с пользователем.

## 2. Проблемы, которые решает

| # | Проблема | Как решает |
|---|---------|------------|
| 1 | Неясно, что пользователь получает на каждом этапе подключения к платформе | Явное описание 5 измерений на каждом тире |
| 2 | Смешение публичного и персонального знания в контексте ИИ | Чёткое разделение: какие MCP-серверы и какой контекст доступен на каждом тире |
| 3 | Нет пути апгрейда — непонятно, зачем заполнять ЦД или ставить экзокортекс | Каждый тир даёт конкретное улучшение роли ИИ: эксперт → наставник → со-мыслитель |
| 4 | Обновления стандартных файлов ломают персональные | Standard/Personal разделение: автообновление стандарта не затрагивает личное |

## 3. Четыре тира

### T1: Эксперт

| Измерение | Что доступно |
|-----------|-------------|
| **Знания** | knowledge-mcp (5320+ docs, Pack-источники), guides-mcp (~40 гайдов), FAQ, structured lookup |
| **ЦД** | Профиль в боте (имя, occupation, role, domain, interests, motivation, goals, language, experience_level, current_problems, desires + прогресс + qa_history) |
| **Методология** | Нет (доменный system prompt без CLAUDE.md) |
| **Действия** | Поиск знаний, чтение гайдов |
| **Роль ИИ** | **Эксперт** — знает домен + знает пользователя по профилю |
| **Барьер входа** | /start в боте (5 мин) |

**Claude получает:** доменный system prompt + tools (`search_knowledge`, `search_guides`) + профиль пользователя из БД.

### T2: Наставник

| Измерение | Что добавляется к T1 |
|-----------|---------------------|
| **Знания** | + **standard CLAUDE.md** (FPF, протоколы, различения) + **standard memory/** (fpf-reference, hard-distinctions, checklists, sota-reference) |
| **ЦД** | **Полный** (deep goals, самооценка по компетенциям, текущие проблемы, контекст, рефлексия) — read + write через бота |
| **Методология** | **Типовая** (standard/ — из шаблона экзокортекса, автообновляемая) |
| **Действия** | + чтение/запись ЦД (`read_digital_twin`, `write_digital_twin`) |
| **Роль ИИ** | **Наставник** — знает домен + знает пользователя глубоко + мыслит по FPF |
| **Барьер входа** | Заполнить ЦД через бота (20 мин, нетехнический) |
| **Экзокортекс** | Начальный (ЦД + стандартная методология) |

**Claude получает:** доменный system prompt + standard CLAUDE.md + standard memory/ + tools (search × 2 + DT × 2) + профиль + ЦД.

**Механизм:** standard CLAUDE.md загружается ботом в system prompt. Пользователю НЕ нужен git — бот сам хранит стандартные файлы и включает их в контекст Claude.

### T3: Со-мыслитель (IWE)

> IWE = Intelligence Work Environment (бот + экзокортекс + ЦД + Git)

| Измерение | Что добавляется к T2 |
|-----------|---------------------|
| **Знания** | + **personal CLAUDE.md** (свои правила, протоколы) + **personal memory/** (свои уроки, паттерны) + стратегия, заметки, captures из git-репо |
| **ЦД** | Полный (из T2) |
| **Методология** | **Типовая + Персональная** (standard/ авто-обновляемый + personal/ пользовательский) |
| **Действия** | + работа с Claude Code локально (файлы, git, bash) + агенты (Стратег, Экстрактор) |
| **Роль ИИ** | **Со-мыслитель** — полный контекст + персональная методология |
| **Барьер входа** | setup.sh (1-2 часа, нужен git + CLI) |
| **Экзокортекс** | Полный (ЦД + Git + personal + агенты) |

**Claude получает:** personal CLAUDE.md (нативно через Claude Code) + personal memory/ + standard memory/ + все MCP + файловая система.

### T4: Архитектор

> Разработчик платформы — создатель и владелец всех систем.

| Измерение | Что добавляется к T3 |
|-----------|---------------------|
| **Знания** | + исходный код всех систем + все Pack + PROCESSES.md + MAPSTRATEGIC всех репо |
| **ЦД** | Полный (из T2) |
| **Методология** | Персональная (максимально развитые CLAUDE.md и memory/) |
| **Действия** | + деплой + обновление standard/ для всех T2-T3 + управление шаблоном экзокортекса (template-sync) |
| **Роль ИИ** | **Архитектор** — со-разработчик платформы с полным доступом ко всему коду и знаниям |
| **Барьер входа** | Владелец репозиториев |

## 4. Сводная таблица

```
                T1: Эксперт    T2: Наставник     T3: IWE          T4: Архитектор

knowledge-mcp   ✓              ✓                 ✓                ✓
guides-mcp      ✓              ✓                 ✓                ✓
ЦД              (Профиль)      (Полный r+w)      (Полный r+w)     (Полный r+w)
standard/                      ✓ ←бот            ✓ ←git           ✓ ←git
personal/                                        ✓ ←git           ✓ ←git
Агенты                                           Claude Code      Claude Code
                                                 Стратег          Стратег
                                                 Экстрактор       Экстрактор
Файлы/Git/Bash                                                    ✓
Деплой                                                            ✓
Исходники                                                         ✓

Экзокортекс:    нет            начальный         полный           полный + управление
Роль ИИ:        ЭКСПЕРТ        НАСТАВНИК          СО-МЫСЛИТЕЛЬ     АРХИТЕКТОР
Барьер:         5 мин          20 мин            1-2 часа         владелец
```

## 5. Путь пользователя

```
/start → T1 ──→ T2 ──→ T3 (IWE) ──→ T4
         │       │       │              │
         │    заполнить  setup.sh     владелец
         │    ЦД в боте  (git+CLI)    платформы
         │   (0 барьер)  (тех.барьер)
```

**Каждый переход даёт конкретное улучшение роли ИИ:**
- T1 → T2: ИИ начинает **знать тебя** (ЦД) и **мыслить методологически** (standard CLAUDE.md)
- T2 → T3: ИИ становится **персональным** (personal CLAUDE.md) и получает **рабочее пространство** (git-репо, агенты)
- T3 → T4: ИИ получает доступ к **исходному коду платформы** и может **деплоить изменения**

## 6. Разделение Standard / Personal

> Решает проблему: «обновления стандарта ломают личные настройки».

```
exocortex/
├── standard/              ← АВТООБНОВЛЯЕМЫЙ (template-sync)
│   ├── CLAUDE.md          ← Типовой: FPF, протоколы, различения
│   └── memory/
│       ├── fpf-reference.md
│       ├── hard-distinctions.md
│       ├── checklists.md
│       └── sota-reference.md
│
├── personal/              ← ТОЛЬКО ПОЛЬЗОВАТЕЛЬ (не трогается автоматически)
│   ├── CLAUDE.md          ← Свои правила, свои протоколы
│   └── memory/
│       ├── my-lessons.md
│       └── my-patterns.md
```

**Принципы:**

| Принцип | Описание |
|---------|----------|
| **Физическое разделение** | standard/ и personal/ — разные директории, не разные секции одного файла |
| **Standard — замена целиком** | template-sync заменяет файлы standard/ целиком. Пользовательских правок тут нет → merge-конфликтов нет |
| **Personal — только пользователь** | Никакой автоматический процесс не трогает personal/. Пользователь создаёт и развивает сам |
| **Приоритет Personal** | При сборке system prompt: standard читается первым, personal дополняет и переопределяет. Personal побеждает при противоречии |
| **Personal в T2** | Не существует (нет git). Стандарт загружается ботом в system prompt |
| **Personal в T3+** | Создаётся пользователем, эволюционирует с каждой сессией Claude Code |

**Сборка system prompt:**

```
T1: domain_prompt + user_profile
T2: domain_prompt + user_profile + standard/CLAUDE.md + standard/memory/* + digital_twin
T3: personal/CLAUDE.md + personal/memory/* + standard/memory/* + digital_twin  (Claude Code нативно)
T4: то же что T3 + доступ к исходникам и деплою
```

## 7. Реализация разделения по тирам

**Механизм — динамический набор tools + system prompt:**

```python
def build_claude_context(user) -> dict:
    system_prompt = DOMAIN_PROMPT
    tools = [search_knowledge, search_guides]

    if user.has_digital_twin:  # T2+
        system_prompt += load("standard/CLAUDE.md")
        system_prompt += load("standard/memory/*")
        tools += [read_digital_twin, write_digital_twin]

    # T3+ работает через Claude Code нативно (не через бота)
    # T4 = T3 + владелец репозиториев

    return {"system": system_prompt, "tools": tools}
```

**Ключевое:** Claude получает разный набор tools и разный system prompt в зависимости от тира пользователя. Нет tool = нет доступа к данным.

## 8. АрхГейт

| Характеристика | Оценка | Комментарий |
|---|---|---|
| **Эволюционируемость** | Высокая | Каждый тир — надмножество предыдущего. Новый MCP = новый tool, без переписывания. Standard обновляется через template-sync — все T2 получают автоматически |
| **Масштабируемость** | Высокая | T1-T2: stateless API calls, линейное масштабирование. ЦД на Supabase (serverless, per-user). Бутылочное горлышко — Anthropic API rate limits, решается через queuing |
| **Обучаемость** | Высокая | 4 тира — просто объяснить. «Заполни ЦД → получишь наставника вместо эксперта». Чёткий upgrade path с конкретной мотивацией на каждом переходе |
| **Генеративность** | Высокая | T2 создаёт платформу для персонализации. T3 — для создания собственных знаний. Standard → Personal эволюция. Работает в шаблоне без доп. регистраций |
| **Скорость** | В бюджете | T1: 2-4 сек (1-2 tool calls). T2: 3-6 сек (2-4 tool calls, +DT read). Оба в пределах <3-6 сек бот-бюджет. T3-T4 работают через CLI (бюджет другой) |
| **Современность** | SOTA | Context Engineering (SOTA.002): Write/Select/Compress/Isolate — контекст формируется по тиру. DDD (SOTA.001): тир = bounded context пользователя. Coupling Model (SOTA.011): knowledge coupling low (MCP), volatility controlled (template-sync) |

## 9. Где появляется экзокортекс

| Компонент экзокортекса | T1 | T2 | T3 | T4 |
|------------------------|----|----|----|----|
| Доменные знания (knowledge-mcp, guides) | общие | общие | общие | общие |
| Цифровой двойник (ЦД) | Профиль | **Полный** | Полный | Полный |
| Стандартная методология (standard/) | — | **появляется** | есть | есть |
| Персональная методология (personal/) | — | — | **появляется** | есть |
| Персональное пространство (git-репо) | — | — | **появляется** | есть |
| AI-агенты (Claude Code, Стратег, Экстрактор) | — | — | **появляются** | есть |
| Управление standard/ для всех | — | — | — | **появляется** |

**Экзокортекс начинается с T2** (ЦД + стандартная методология) и становится **полным в T3** (+ personal + git + агенты).

## 10. Связанные документы

- [DP.ARCH.001 Архитектура платформы](DP.ARCH.001-platform-architecture.md) — слои, характеристики ЭМОГСС, отчуждаемость
- [DP.EXOCORTEX.001 Модульный экзокортекс](DP.EXOCORTEX.001-modular-exocortex.md) — Standard/Personal файлы, слои инструкций
- [DP.AISYS.014 AIST Bot](DP.AISYS.014-aist-bot.md) — реализация T1-T2 через бота, консультация "?"
- [DP.M.003 Context Engineering](../03-methods/DP.M.003-context-engineering.md) — метод формирования контекста по тиру
